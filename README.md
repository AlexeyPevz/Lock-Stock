# Lock Stock Question Bot — Подробный README

Ниже — детально проработанный README для Telegram-бота, который ведёт офлайн-игру по правилам шоу Lock Stock: задаёт числовой вопрос, затем поэтапно открывает две независимые подсказки, а ответ раскрывается только в конце раунда ведущим по кнопке.[1][2][3]

## Описание и суть игры

- Формат: “интеллектуальный покер” на числовых вопросах с блефом и ставками.[2][3][4]
- В начале раунда все делают обязательную ставку, пишут ответ на карточке и больше его не меняют.[1][2][3]
- Между этапами есть торги: можно рейзить, чекать (предложить всем бесплатно послушать подсказку), или пасовать и выйти из банка.[2][3]
- По ходу раунда ведущий читает ещё две подсказки; после каждой — новый круг решений по ставкам.[2][3]
- В конце ведущий объявляет правильный ответ, игроки вскрывают карточки; деньги забирает тот, чей ответ ближе к верному; в финале выпуска победитель забирает всё.[2][3]

Бот не судья и не считает очки — он помогает быстро и качественно проводить офлайн-игру: выдаёт вопрос, затем по кнопкам открывает подсказки и ответ, даёт краткие правила и таймер.[1][2][3]

## Ценность и позиционирование

- Боль аудитории: трудно придумать качественные “равночисловые” связки вопроса и подсказок из разных доменов.[1][2]
- Решение: бот мгновенно выдаёт готовые раунды с тремя независимыми фактами, сходящимися к одному числовому ответу, с верификацией и без банальных “подсчётов букв/дат”.[1][2]
- Ведущий может играть наравне: ответ и подсказки скрыты до нажатия соответствующих кнопок.[2][3]

## Игровой сценарий офлайн

1) Подготовка
- Собирается компания из 4+ игроков (оптимально 4–6).[2][5]
- Ведущий запускает бота, выбирает “Новая игра”, включает режим ведущего (крупные кнопки, таймер).[2][3]

2) Раунд
- Бот показывает: Вопрос (числовой), подсказка-1 (скрыта), подсказка-2 (скрыта), Ответ (скрыт).[1][2]
- Игроки пишут ответ на карточке (менять нельзя).[1][3]
- Торги-1: ставки, чек (бесплатная подсказка), или пас.[2][3]
- Ведущий открывает Подсказку-1 → Торги-2.[2][3]
- Ведущий открывает Подсказку-2 → Торги-3.[2][3]
- Ведущий открывает Ответ → подсчёт, чей ответ ближе; банк забирает победитель раунда.[2][3]
- В финале игры общий победитель забирает всё — по правилам вашего домашнего формата.[2][3]

3) Таймер
- Предустановки 30/60/90 секунд для обсуждений и торгов.[2]

4) Скип
- 1–2 замены раунда на сессию (на случай спорности или неподходящей сложности).[2]

## Правила, отображаемые ботом в краткой карточке

- Минимальная обязательная ставка в начале раунда (по умолчанию настраиваемая).[2][3]
- Ответ пишется один раз и не меняется.[1][3]
- Кнопка “Чек” в торгах — предложить всем бесплатно послушать подсказку без ставок.[2][3]
- После каждой подсказки — новый круг решений: рейз/чек/пас.[2][3]
- В конце — объявление правильного ответа, вскрытие карточек, победитель по близости.[2][3]

## Функциональные требования бота

MVP
- Команды: /start, /newgame, /rules, /premium, /help.[2][3]
- Экран ведущего: крупные кнопки “Вопрос → Подсказка 1 → Подсказка 2 → Ответ”, Таймер, Скип раунда.[2]
- Генерация пачки из 15 раундов на сессию: три независимых факта (вопрос+2 подсказки) из разных доменов, один числовой ответ 1–1000, без “подсчётов букв/дат”.[1][2]
- “Blind mode”: ответ/подсказки скрыты до нажатия, чтобы ведущий мог играть.[2][3]
- Freemium: 5 бесплатных раундов; апгрейд до полной сессии (15 вопросов) за Telegram Stars.[2]

V2
- Оценка качества пользователями (звёзды + причина: сложно/легко/спорный факт/узкая тема/непонятная формулировка).[2]
- Дедупликация фактов и чисел на пользователя/сессию, ротация доменов.[2]
- Тематические паки (спорт, кино, история и др.).[2][4]
- Персонализация сложности и доменов.[2]

## Контент и верификация

Требования к каждому раунду
- Ответ — целое число 1–1000.[1][2]
- Вопрос и две подсказки — независимые факты из разных доменов (история, спорт, кино, наука, музыка, география, поп-культура, “дикая” любопытная фактура и т.п.).[1][2]
- Без очевидных трюков: никаких подсчётов букв/дат/сторон и т.п.[1][2]
- Верифицируемость: каждый факт подтверждаем через Wikipedia/IMDB/официальные статистические ресурсы в пайплайне автопроверки.[2]

Пайплайн генерации и проверки (server-side)
- Генерация кандидатов: LLM (Claude/Gemini/DeepSeek), промпт с жёсткими правилами и требованием ссылок-обоснований.[2]
- Извлечение утверждений и чисел → проверка через Wikipedia API/поисковую верификацию → отклонение при несовпадении.[2]
- Тест на доменную независимость: домены вопроса и подсказок должны различаться.[2]
- Фильтрация “банальностей” и узкоспециальных загадок; чёрный список паттернов.[2]
- Кэширование проверенных раундов; повторная выдача одному и тому же пользователю исключается.[2]

Дедупликация
- На уровне числа: у одного пользователя не повторять одно и то же число в пределах N сессий.[2]
- На уровне факта: хранить хэш каждого факта (текст+источник+число); не показывать повторно пользователю тот же факт.[2]
- Ротация доменов: в пачке (15) следить, чтобы не было перекосов в 1–2 домена подряд.[2]

## Архитектура

Стек MVP
- Telegram Bot API (Node.js/Python).
- LLM провайдер(ы): Claude/Gemini/DeepSeek — генерация; локальные/дешёвые модели для предфильтра.[2]
- Верификация: Wikipedia API, при необходимости Google Custom Search для дополнительного подтверждения.[2]
- Хранилище: SQLite/PostgreSQL (прод), кэш Redis (опционально).
- Монетизация: Telegram Stars.[2]

Схема данных (упрощённо)
- facts_by_number: id, number, domain, fact_text, source_url, difficulty, rating, verified, usage_count, created_at, last_used_at.[2]
- rounds: id, number, question_fact_id, hint1_fact_id, hint2_fact_id, sources[], quality_score, verified.[2]
- sessions: id, user_id, round_ids[], current_index, is_premium, created_at.[2]
- user_seen: user_id, fact_id, round_id, seen_at, rating, feedback_category.[2]

Алгоритм выдачи раунда
- Выбрать число, не встречавшееся у пользователя недавно, с запасом доступных фактов/доменов.[2]
- Собрать связку (вопрос+2 подсказки) с тремя разными доменами и единым числом (все verified=true).[2]
- Проверить, что факты не были показаны ранее этому пользователю; при дефиците — заменить домены/число.[2]
- Сохранить в current session и отдать интерфейсу ведущего.[2]

## UX: Экран ведущего

- Новая игра → Пачка 15 раундов (5 бесплатных + 10 премиум).[2]
- Крупные кнопки:
  - Показать вопрос
  - Показать подсказку 1
  - Показать подсказку 2
  - Показать ответ
  - Таймер 30/60/90
  - Скип раунда (1–2 на сессию)
  - Правила (краткая карточка)
- Blind mode: ведущий не видит скрытое до нажатия; можно играть вместе со всеми.[2][3]

Подсказки по темпу
- Рекомендованный темп: вопрос → 60с обсуждение и ставки → подсказка-1 → 60с → подсказка-2 → 60с → вскрытие.[2]

## Монетизация

- Бесплатно: 5 раундов.
- Премиум-сессия: +10 раундов за 100 Stars (вариативно 15→30 за 180 Stars; месячная подписка — 500 Stars).[2]
- Тематические паки: по 50 Stars (спорт/кино/история/поп-культура).[2][4]
- Корпоративный режим: брендированные паки и отчёт в конце (MVP: текстовый).[2]

## Качество через фидбек

Сбор оценок
- После ответа: звёзды 1–5, при ≤3 — причина (слишком сложно/слишком легко/спорный/узкая тема/плохая формулировка/устарело).[2]
- Низкий рейтинг → карантин факта и автоматическая перепроверка; при подтверждённой спорности — замена и переработка.[2]

Адаптация
- Если по числу растёт доля “слишком сложно” → отдавать более массовые домены и понижать сложность.[2]
- Персональные предпочтения по доменам и сложности — в v2.[2]

## Маркетинг и GTM

- Демо-ролики 30–60с с живой игрой, акцент на блефе и ставках.[2]
- Комментарий под выпуском: “Неофициальный офлайн-помощник для домашних игр — 5 бесплатных раундов внутри.”[2]
- Партнёрства с комьюнити настолок/квизов, промокоды на паки.[6][4]

## Метрики

- Конверсия free→premium: целевой ориентир 15–25%.[2]
- Досмотр сессии: ≥12/15 раундов у 60%+.[2]
- Средняя оценка фактов: ≥4.2/5; “спорность” <3%.[2]
- Время на сессию: 25–40 минут.[2]

## План запуска (14 дней)

- Дни 1–3: каркас бота, экран ведущего, таймер, слоты шага.[2]
- Дни 4–6: генерация/верификация/кэш раундов.[2]
- Дни 7–8: фидбек, рейтинг, карантин спорных.[2]
- Дни 9–10: Stars-платёж и флоу freemium→premium.[2]
- Дни 11–12: события аналитики (показы, клики, конверсии).[2]
- Дни 13–14: пилоты на 3–5 компаниях, фиксы, релиз.[2]

## Примеры формулировок (гайд для генерации)

- Вопрос: “Сколько ... [verifiable факт из домена A]?”
- Подсказка 1: “Сколько ... [независимый факт из домена B]?”
- Подсказка 2: “Какой ... [независимый факт из домена C]?”
- Все три ведут к одному числу; никаких подсчётов букв/дат/сторон/сезонов и т.п.[1][2]

## Юридические и этические заметки

- Использовать собственные формулировки и уникальную подачу; избегать копирования реплик/скетчей шоу.[2]
- Указывать, что бот — “неофициальный” помощник; не использовать брендинг/логотипы шоу.[2]

## Ссылки на формат шоу (для ориентации команды)

- Эпизоды и плейлист на YouTube/ВК демонстрируют правила, чек, торги, структуру раунда и финала, на которых ориентируется UX бота.[1][2][7]

Этот README аккумулирует механику шоу и переводит её в точные требования к боту-ведущему: строгие правила раунда, слепой режим для ведущего, кэш из проверенных раундов, верификация и фидбек для самосовершенствования контента, а также понятную монетизацию через Stars.[1][2][3]

Источники
[1] ЛОК СТОК #1 СТАВКА НА ЗНАНИЯ /Абрамов/Чабдаров/ ... https://www.youtube.com/watch?v=YaVvVExoTiY
[2] ЛОК СТОК #10 СТАВКА НА ЗНАНИЯ / Макарена ... https://www.youtube.com/watch?v=9AIOG_oepS0
[3] ЛОК СТОК #20 СТАВКА НА ЗНАНИЯ / Стогниенко ... https://www.youtube.com/watch?v=dFK2OdU_iBc
[4] Топ юмористических шоу: что смешное посмотреть на ... https://kaverafisha.ru/blog/top-yumoristicheskih-shou-chto-smeshnoe-posmotret-na-youtube-1023
[5] Лок сток в Москве https://mr-games.ru/lock-stock/
[6] WOWSHOW - Игровые шоу для компаний от 2 человек https://wowshow.ru
[7] Lock Stock https://www.youtube.com/playlist?list=PL4ARRXZTRoKstbVdFvStdgAQ2Z6N1Ffcb
[8] ЛОК СТОК #11 СТАВКА НА ЗНАНИЯ / Шоу РАЗГОН / ... https://www.youtube.com/watch?v=xAYLXPaX5xI
[9] ЛОК СТОК # 16 СТАВКА НА ЗНАНИЯ/ Воронин/Фауст ... https://www.youtube.com/watch?v=ckumkOJxQcE
[10] Мастер русского языка: шоу Lock Stock 21 https://www.tiktok.com/@mediumqualityproduction/video/7515008830325918994
[11] Можно бесконечно смотреть на огонь, воду и на то, как ... https://vk.com/wall-27477591_63656
[12] ЛОК СТОК #7 СТАВКА НА ЗНАНИЯ / Иванченко / ... https://www.youtube.com/watch?v=-0pg0dk2b-U
[13] LOCK STOCK»!🔥ЭКСКЛЮЗИВНО В VK ВИДЕО!🔥 Всех с ... https://vk.com/wall-214484275_7863
[14] ЛОК СТОК #13 СТАВКА НА ЗНАНИЯ / Вяликова / ... https://vk.com/video-214484275_456240094
[15] НОВЫЙ «LOCK STOCK»!🔥ЭКСКЛЮЗИВНО В VK ... https://vk.com/wall-214484275_11284
[16] ЛОК СТОК - «Интеллектуальный покер! Шоу где не ... https://irecommend.ru/content/intellektualnyi-poker-shou-gde-ne-nuzhny-byt-umnym-no-nuzhno-delat-stavku-na-znanie
[17] ЛОК СТОК #17 СТАВКА НА ЗНАНИЯ /Янгер/Динара ... https://www.youtube.com/watch?v=48dtAVfN3PU
[18] Медиум Кволити | Афиша https://t.me/s/MediumQuality_Afisha?before=746
[19] ЛОК СТОК #7 СТАВКА НА ЗНАНИЯ / Иванченко / ... https://vk.com/video-220892414_456239230
[20] ЛОК СТОК #18 СТАВКА НА ЗНАНИЯ / Мейханаджан/ ... https://www.youtube.com/watch?v=7nH9sBoSKz0
Вот суть проекта